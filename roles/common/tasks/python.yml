#  PYTHON(){
#    dnf install python3 gcc python3-devel -y
#    APP_PREREQ
#    pip3 install -r requirements.txt
#    SYSTEMD
#  }


- name: Install Python and GCC packages
  ansible.builtin.dnf:
    name:
      - python3
      - gcc
      - python3-devel
    state: present


- name: Import App prereq role
  ansible.builtin.import_role:
    name: common
    tasks_from: app-prereq

- name: Install Python packages using python3.6
  ansible.builtin.command: python3.6 -m pip install -r requirements.txt
  args:
    chdir: /app

- name: Load Systemd Service
  ansible.builtin.import_role:
    name: common
    tasks_from: systemd